# Tasks: Brand & Visual Components

**Input**: Design documents from `/specs/011-brand-visual-components/`
**Prerequisites**: plan.md ‚úÖ, spec.md ‚úÖ, research.md ‚úÖ, data-model.md ‚úÖ, contracts/ ‚úÖ
**Workflow**: Part of mandatory SpecKit workflow (Constitutional Principle XV). Generated by `/speckit.tasks`.

**Tests**: Per Constitutional Principle XVI (TDD), tests are MANDATORY and MUST be written BEFORE implementation.

- Task format: `T###-test` (write failing test) ‚Üí `T###-impl` (make test pass)
- Coverage target: 80%+ for merge to main
- Snapshot tests for visual consistency

**Organization**: Tasks are grouped by user story to enable independent implementation and testing of each story.

## Format: `[ID] [P?] [Story] Description`

- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story this task belongs to (e.g., US1, US2, US3)
- Include exact file paths in descriptions

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: Tailwind keyframes configuration and shared animation utilities

- [ ] T001 Add Tailwind keyframes for void-pulse, accretion-spin, aurora-gradient animations in tailwind.config.ts
- [ ] T002 [P] Create animation utility types in src/shared/ui/types/animation.ts

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: Design tokens and shared constants used across all brand components

**‚ö†Ô∏è CRITICAL**: No user story work can begin until this phase is complete

- [ ] T003 Create design tokens constants for network themes, colors, and timing in src/shared/ui/constants/brand-tokens.ts
- [ ] T004 [P] Create useReducedMotion hook wrapper (if not exists) in src/shared/ui/hooks/use-reduced-motion.ts

**Checkpoint**: Foundation ready - user story implementation can now begin in parallel

---

## Phase 3: User Story 1 - Brand Logo Display (Priority: P1) üéØ MVP

**Goal**: VoidLogo SVG component with eclipse body, crescent pulse animation, and violet glow effect

**Independent Test**: Render VoidLogo component, verify SVG structure, glow effect, and pulse animation respects prefers-reduced-motion

### Tests for User Story 1 (TDD - write FIRST, ensure they FAIL) üî¥

- [ ] T010-test [P] [US1] Unit test for VoidLogo rendering in src/shared/ui/**tests**/void-logo.test.tsx
- [ ] T011-test [P] [US1] Unit test for VoidLogo size prop variants in src/shared/ui/**tests**/void-logo.test.tsx
- [ ] T012-test [P] [US1] Unit test for VoidLogo static prop (animation disabled) in src/shared/ui/**tests**/void-logo.test.tsx
- [ ] T013-test [P] [US1] Unit test for VoidLogo className merge in src/shared/ui/**tests**/void-logo.test.tsx
- [ ] T014-test [P] [US1] Unit test for VoidLogo edge cases (size=0, negative, very small) in src/shared/ui/**tests**/void-logo.test.tsx

### Implementation for User Story 1 (TDD - make tests PASS) üü¢

- [ ] T010-impl [US1] Implement VoidLogo SVG structure with eclipse body and lightning bolts in src/shared/ui/void-logo.tsx
- [ ] T011-impl [US1] Add VoidLogo size variants (sm, md, lg, xl) and numeric size prop in src/shared/ui/void-logo.tsx
- [ ] T012-impl [US1] Add crescent pulse animation with static prop and useReducedMotion support in src/shared/ui/void-logo.tsx
- [ ] T013-impl [US1] Add radial gradient glow effect with Electric Violet (#7C3AED) in src/shared/ui/void-logo.tsx
- [ ] T014-impl [US1] Handle edge case sizes (clamp to minimum 16px) in src/shared/ui/void-logo.tsx
- [ ] T015 [US1] Export VoidLogo from barrel in src/shared/ui/index.ts

**Checkpoint**: User Story 1 complete. Verify: VoidLogo renders with all sizes, animation toggles, className merges

---

## Phase 4: User Story 2 - Network-Themed Background Ambiance (Priority: P1)

**Goal**: NetworkBackground widget with 6 network themes, animated shapes, and smooth theme transitions

**Independent Test**: Render NetworkBackground with each theme, verify correct colors, shape types, and AnimatePresence crossfade

### Tests for User Story 2 (TDD - write FIRST, ensure they FAIL) üî¥

- [ ] T020-test [P] [US2] Unit test for NetworkBackground default theme rendering in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T021-test [P] [US2] Unit test for NetworkBackground arbitrum theme (blue triangles) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T022-test [P] [US2] Unit test for NetworkBackground optimism theme (red circles) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T023-test [P] [US2] Unit test for NetworkBackground polygon theme (purple hexagons) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T024-test [P] [US2] Unit test for NetworkBackground ethereum theme (blue rhombus) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T025-test [P] [US2] Unit test for NetworkBackground base theme (blue circles) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T026-test [P] [US2] Unit test for NetworkBackground voidpay theme (violet blobs) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx
- [ ] T027-test [US2] Unit test for NetworkBackground theme transition (AnimatePresence) in src/widgets/network-background/**tests**/NetworkBackground.test.tsx

### Implementation for User Story 2 (TDD - make tests PASS) üü¢

- [ ] T020-impl [US2] Create NetworkBackground widget directory structure in src/widgets/network-background/
- [ ] T021-impl [US2] Implement shape rendering system (triangle, circle, hexagon, rhombus, blob) in src/widgets/network-background/shapes.tsx
- [ ] T022-impl [US2] Implement theme configuration with network colors and shape types in src/widgets/network-background/themes.ts
- [ ] T023-impl [US2] Implement NetworkBackground container with fixed positioning and z-index in src/widgets/network-background/NetworkBackground.tsx
- [ ] T024-impl [US2] Add AnimatePresence for smooth theme crossfade (1.5s) in src/widgets/network-background/NetworkBackground.tsx
- [ ] T025-impl [US2] Add noise texture overlay and vignette layer in src/widgets/network-background/NetworkBackground.tsx
- [ ] T026-impl [US2] Export NetworkBackground from widget barrel in src/widgets/network-background/index.ts

**Checkpoint**: User Story 2 complete. Verify: All 6 themes render correctly, transitions smooth, reduced motion respected

---

## Phase 5: User Story 3 - Void Button Physics Animation (Priority: P1)

**Goal**: Void variant for existing Button component with accretion disk animation, event horizon, and physics-based hover effects

**Independent Test**: Render void button in idle, hover, loading, disabled states and verify each animation phase

### Tests for User Story 3 (TDD - write FIRST, ensure they FAIL) üî¥

- [ ] T030-test [P] [US3] Unit test for void button idle state (6s rotation) in src/shared/ui/**tests**/button-void.test.tsx
- [ ] T031-test [P] [US3] Unit test for void button hover state (2s rotation, glow intensify) in src/shared/ui/**tests**/button-void.test.tsx
- [ ] T032-test [P] [US3] Unit test for void button loading state (0.5s rotation, expanded glow) in src/shared/ui/**tests**/button-void.test.tsx
- [ ] T033-test [P] [US3] Unit test for void button disabled state (no disk, grayscale) in src/shared/ui/**tests**/button-void.test.tsx
- [ ] T034-test [P] [US3] Unit test for void button content text compression on hover in src/shared/ui/**tests**/button-void.test.tsx

### Implementation for User Story 3 (TDD - make tests PASS) üü¢

- [ ] T030-impl [US3] Add void variant to buttonVariants CVA in src/shared/ui/button.tsx
- [ ] T031-impl [US3] Create VoidButtonOverlay component for accretion disk layer in src/shared/ui/button-void-overlay.tsx
- [ ] T032-impl [US3] Implement conic gradient accretion disk with CSS keyframes in src/shared/ui/button-void-overlay.tsx
- [ ] T033-impl [US3] Implement event horizon mask (black center) above accretion disk in src/shared/ui/button-void-overlay.tsx
- [ ] T034-impl [US3] Add state-based animation timing (idle: 6s, hover: 2s, loading: 0.5s) in src/shared/ui/button-void-overlay.tsx
- [ ] T035-impl [US3] Add content hover compression (scale 0.95) with Framer Motion in src/shared/ui/button.tsx
- [ ] T036-impl [US3] Integrate VoidButtonOverlay with Button component conditionally in src/shared/ui/button.tsx
- [ ] T037 [US3] Export updated Button (void variant included) from barrel in src/shared/ui/index.ts

**Checkpoint**: User Story 3 complete. Verify: All 4 button states visually distinct, animations smooth

---

## Phase 6: User Story 4 - Aurora Gradient Text Effect (Priority: P2)

**Goal**: AuroraText component with animated violet/indigo/purple gradient and drop shadow

**Independent Test**: Render AuroraText, verify gradient animation cycles, text transparency works, glow effect visible

### Tests for User Story 4 (TDD - write FIRST, ensure they FAIL) üî¥

- [ ] T040-test [P] [US4] Unit test for AuroraText default rendering in src/shared/ui/**tests**/aurora-text.test.tsx
- [ ] T041-test [P] [US4] Unit test for AuroraText polymorphic element (as prop) in src/shared/ui/**tests**/aurora-text.test.tsx
- [ ] T042-test [P] [US4] Unit test for AuroraText className merge in src/shared/ui/**tests**/aurora-text.test.tsx
- [ ] T043-test [P] [US4] Unit test for AuroraText reduced motion (static gradient) in src/shared/ui/**tests**/aurora-text.test.tsx

### Implementation for User Story 4 (TDD - make tests PASS) üü¢

- [ ] T040-impl [US4] Create AuroraText component with bg-clip-text in src/shared/ui/aurora-text.tsx
- [ ] T041-impl [US4] Add animated gradient with background-position keyframes in src/shared/ui/aurora-text.tsx
- [ ] T042-impl [US4] Add violet drop shadow effect in src/shared/ui/aurora-text.tsx
- [ ] T043-impl [US4] Add polymorphic element support (span, h1, h2, h3, p) in src/shared/ui/aurora-text.tsx
- [ ] T044 [US4] Export AuroraText from barrel in src/shared/ui/index.ts

**Checkpoint**: User Story 4 complete. Verify: Gradient animates, shadow visible, polymorphic elements work

---

## Phase 7: User Story 5 - HyperText Scramble Effect (Priority: P2)

**Goal**: HyperText component with character-by-character scramble reveal animation

**Independent Test**: Render HyperText with text prop, verify scramble animation, static characters preserved, duration respected

### Tests for User Story 5 (TDD - write FIRST, ensure they FAIL) üî¥

- [ ] T050-test [P] [US5] Unit test for HyperText default rendering in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T051-test [P] [US5] Unit test for HyperText animation completion callback in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T052-test [P] [US5] Unit test for HyperText duration prop in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T053-test [P] [US5] Unit test for HyperText animateOnLoad=false in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T054-test [P] [US5] Unit test for HyperText static characters (space, punctuation) in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T055-test [US5] Unit test for HyperText text prop change (re-animate) in src/shared/ui/**tests**/hyper-text.test.tsx
- [ ] T056-test [P] [US5] Unit test for HyperText edge cases (empty string, duration tolerance ¬±50ms) in src/shared/ui/**tests**/hyper-text.test.tsx

### Implementation for User Story 5 (TDD - make tests PASS) üü¢

- [ ] T050-impl [US5] Create useHyperText hook for scramble animation logic in src/shared/ui/hooks/use-hyper-text.ts
- [ ] T051-impl [US5] Implement character scramble algorithm (random characters ‚Üí reveal) in src/shared/ui/hooks/use-hyper-text.ts
- [ ] T052-impl [US5] Add static character preservation (spaces, punctuation) in src/shared/ui/hooks/use-hyper-text.ts
- [ ] T053-impl [US5] Create HyperText component using useHyperText hook in src/shared/ui/hyper-text.tsx
- [ ] T054-impl [US5] Add animateOnLoad and duration props in src/shared/ui/hyper-text.tsx
- [ ] T055-impl [US5] Add text prop change detection for re-animation in src/shared/ui/hyper-text.tsx
- [ ] T056-impl [US5] Handle empty string edge case (render nothing, no animation) in src/shared/ui/hyper-text.tsx
- [ ] T057 [US5] Export HyperText from barrel in src/shared/ui/index.ts

**Checkpoint**: User Story 5 complete. Verify: Scramble animation works, duration respected, re-animates on text change

---

## Phase 8: Polish & Cross-Cutting Concerns

**Purpose**: Final validation, edge cases, and accessibility

- [ ] T060 [P] Add prefers-reduced-motion tests for all animated components
- [ ] T061 [P] Add edge case tests: unknown themes (fallback to ethereum), extreme sizes
- [ ] T062 [P] Add layout shift tests (CLS = 0) for HyperText and animated components
- [ ] T063 Verify quickstart.md examples work (render all components)
- [ ] T064 Run full test suite and verify 80%+ coverage

---

## Phase 9: Memory Updates (MANDATORY - Constitutional Principle XIV)

**Purpose**: Update Serena memories to keep project knowledge current

**‚ö†Ô∏è CRITICAL**: This phase is NON-OPTIONAL. Feature completion without memory updates is a Constitutional violation.

- [ ] TMEM-1 Update `development-status` memory with 011-brand-visual-components completion
- [ ] TMEM-2 [P] Update `architecture-summary` if NetworkBackground widget pattern is new
- [ ] TMEM-3 Verify all memory "Last Updated" dates are current

**Checkpoint**: All relevant memories updated. Feature ready for merge.

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: No dependencies - can start immediately
- **Foundational (Phase 2)**: Depends on Setup completion - BLOCKS all user stories
- **User Stories (Phase 3-7)**: All depend on Foundational phase completion
  - US1 (VoidLogo), US2 (NetworkBackground), US3 (Button void) are P1 - can run in parallel
  - US4 (AuroraText), US5 (HyperText) are P2 - can run in parallel, after P1 or concurrently
- **Polish (Phase 8)**: Depends on all user stories being complete
- **Memory Updates (Phase 9)**: Depends on Polish completion

### User Story Dependencies

- **User Story 1 (P1 - VoidLogo)**: Independent, no dependencies on other stories
- **User Story 2 (P1 - NetworkBackground)**: Independent, no dependencies on other stories
- **User Story 3 (P1 - Button void)**: Depends on existing Button component (already exists)
- **User Story 4 (P2 - AuroraText)**: Independent, no dependencies on other stories
- **User Story 5 (P2 - HyperText)**: Independent, no dependencies on other stories

### Within Each User Story (TDD Cycle)

- Tests MUST be written and FAIL before implementation (Red phase)
- Implementation MUST be minimal to pass tests (Green phase)
- Refactor only when tests are green (Refactor phase)
- All tests for a user story marked [P] can run in parallel
- Export tasks depend on implementation

### Parallel Opportunities

- All Setup tasks marked [P] can run in parallel
- All Foundational tasks marked [P] can run in parallel
- Once Foundational is complete, all 5 user stories can start in parallel (if team capacity allows)
- All tests within a user story marked [P] can run in parallel
- Different user stories can be worked on in parallel by different team members

---

## Parallel Example: User Story 1 (TDD)

```bash
# TDD RED PHASE: Launch all tests for User Story 1 together (write first, must fail):
Task: "T010-test: Unit test for VoidLogo rendering"
Task: "T011-test: Unit test for VoidLogo size prop variants"
Task: "T012-test: Unit test for VoidLogo static prop"
Task: "T013-test: Unit test for VoidLogo className merge"

# TDD GREEN PHASE: Launch implementations sequentially (make tests pass):
Task: "T010-impl: Implement VoidLogo SVG structure"
Task: "T011-impl: Add VoidLogo size variants"
Task: "T012-impl: Add crescent pulse animation"
Task: "T013-impl: Add radial gradient glow effect"
Task: "T014: Export VoidLogo from barrel"
```

---

## Implementation Strategy

### MVP First (User Stories 1, 2, 3 - All P1)

1. Complete Phase 1: Setup (Tailwind keyframes)
2. Complete Phase 2: Foundational (Design tokens)
3. Complete Phase 3: User Story 1 - VoidLogo
4. Complete Phase 4: User Story 2 - NetworkBackground
5. Complete Phase 5: User Story 3 - Button void variant
6. **STOP and VALIDATE**: Test all P1 components independently
7. Deploy/demo if ready - MVP complete with brand identity components

### Incremental Delivery

1. Complete Setup + Foundational ‚Üí Foundation ready
2. Add User Story 1 (VoidLogo) ‚Üí Test independently ‚Üí Brand logo ready
3. Add User Story 2 (NetworkBackground) ‚Üí Test independently ‚Üí Network theming ready
4. Add User Story 3 (Button void) ‚Üí Test independently ‚Üí Payment CTA ready
5. Add User Story 4 (AuroraText) ‚Üí Test independently ‚Üí Hero text effects
6. Add User Story 5 (HyperText) ‚Üí Test independently ‚Üí Dynamic reveals
7. Polish ‚Üí Full feature complete

### Parallel Team Strategy

With multiple developers:

1. Team completes Setup + Foundational together
2. Once Foundational is done:
   - Developer A: User Story 1 (VoidLogo)
   - Developer B: User Story 2 (NetworkBackground)
   - Developer C: User Story 3 (Button void)
3. After P1 complete:
   - Developer A: User Story 4 (AuroraText)
   - Developer B: User Story 5 (HyperText)
4. Stories complete and integrate independently

---

## Notes

- [P] tasks = different files, no dependencies
- [Story] label maps task to specific user story for traceability
- Each user story should be independently completable and testable
- **TDD**: T###-test tasks MUST be written first and FAIL before T###-impl tasks
- **TDD**: Commit `[WIP]` allowed in feature branches; merge requires all tests green
- **Coverage**: Check coverage at each checkpoint, must be ‚â•80% before merge
- Commit after each task or logical group
- Stop at any checkpoint to validate story independently

### Deviation Tracking (Principle IX)

When marking tasks complete, **MUST** record any implementation deviations:

**Format**: `- [x] T001 [Description] | Deviation: [None | <deviation description>]`

### ROADMAP Updates (Principle IX)

Upon completing this feature, update `ROADMAP_P0.md` with:

- Feature completion status: `üü¢ **Completed**: YYYY-MM-DD`
- **Feature Folder**: `specs/011-brand-visual-components/`
- **Implemented**: VoidLogo, NetworkBackground, Button void variant, AuroraText, HyperText
- **Deviations**: (record any during implementation)

---

## Task Summary

| Phase                   | Tasks  | Parallel Tasks |
| ----------------------- | ------ | -------------- |
| Setup                   | 2      | 1              |
| Foundational            | 2      | 1              |
| US1 - VoidLogo          | 11     | 5 (tests)      |
| US2 - NetworkBackground | 15     | 8 (tests)      |
| US3 - Button void       | 13     | 5 (tests)      |
| US4 - AuroraText        | 9      | 4 (tests)      |
| US5 - HyperText         | 15     | 7 (tests)      |
| Polish                  | 5      | 3              |
| Memory                  | 3      | 1              |
| **Total**               | **75** | **35**         |
